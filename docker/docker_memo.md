# Docker

## Dockerとは

- Docker社が提供する"コンテナ型仮想化技術" のプロダクト
- Linuxのコンテナ技術を使ったもの

## VM(仮想マシン)との違い

- こちらの解説がそこそこわかりやすい気がする
    - ![Docker入門（第一回）～Dockerとは何か、何が良いのか～](https://knowledge.sakura.ad.jp/13265/)

- ホスト型仮想化
    - ホストOS上に別のマシンを仮想的に立ち上げる
    - ざっくり"仮想パソコンを起動"するのが仮想化
        1. ホストOS上の仮想化ソフト/ハイパーバイザ使用して仮想マシン/ゲストOSを立ち上げ
        2. 仮想マシンの中でミドルウェアの環境構築
        3. プログラムを実行してアプリケーションを動かす
- コンテナ型仮想化
    - ゲストOSは起動しない
    - ホストOSからコンテナと呼ばれるミドルウェアの環境構築がされた実行環境を作成
    - コンテナ上でアプリケーションを動作。
    - ホスト型仮想化よりも圧倒的に軽量に動作

- ゲストOSを立ち上げないのがポイント、本当に軽量

## Dockerのコンテナとイメージの確認・削除

- コンテナを削除してからイメージの削除が綺麗

```
$ # コンテナの確認
$ docker ps
$ 停止も含めたコンテナ
$ docker ps -a
$ 
$ # コンテナの削除
$ # IDを続けて記述する(スペース区切り)ことで複数指定も可能
$ docker rm [コンテナID]
$ # 一括削除
$ docker rm `docker ps -a -q`
$ 
$ # イメージの確認
$ docker images
$ 
$ # イメージの削除
$ docker rmi [イメージID]
$ # -f: force 
$ docker rmi -f [イメージID]
```
